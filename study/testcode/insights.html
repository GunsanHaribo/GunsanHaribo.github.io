<!DOCTYPE html>
<html lang='ko' class='scroll-smooth'>
<head>
  <meta charset='UTF-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1.0' />
  <title>스터디 인사이트 – 테스트 코드 생산성</title>
  <link rel='stylesheet'
        href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css' />
  <link rel='stylesheet'
        href='https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css' />
  <script src='https://cdn.tailwindcss.com'></script>
  <script>
    tailwind.config = { darkMode: 'selector' };
  </script>
  <style>
    [id] {
      scroll-margin-top: 72px;
    }
  </style>
</head>
<body
  class='bg-gray-900 text-white sunny:bg-white sunny:text-black min-h-screen transition-colors duration-300'>

<!-- Header -->
<header class='sticky top-0 z-50 bg-gray-900/70 sunny:bg-white/80 backdrop-blur'>
  <nav class='max-w-3xl mx-auto px-5 py-3 flex items-center justify-between'>
    <a href='../../index.html#study'
       class='text-sm sunny:text-gray-700 text-gray-300 hover:text-blue-500'>
      ← 돌아가기
    </a>
    <div class='text-sm flex items-center gap-4'>
      <a href='#situation' class='hover:text-blue-500'>상황</a>
      <a href='#problem' class='hover:text-blue-500'>문제</a>
      <a href='#solution' class='hover:text-blue-500'>해결</a>
      <a href='#result' class='hover:text-blue-500'>결과</a>
    </div>
  </nav>
</header>

<main class='max-w-3xl mx-auto px-5 py-10 space-y-12'>

  <!-- Title -->
  <section id='top' class='space-y-2'>
    <h1 class='text-3xl font-bold'>테스트 코드 스터디</h1>
    <p class='sunny:text-gray-600 text-gray-400'>생산성을 위한 테스트 코드 스터디 회고</p>
  </section>

  <!-- 1. 상황 -->

  <section id='situation' class='mb-16 w-full sunny:bg-white bg-gray-900'>
    <h2 class='text-3xl font-bold mb-6'>상황</h2>
    <div class='sunny:bg-gray-100 bg-gray-800 rounded-lg p-6'>
      <p class='sunny:text-gray-800 text-gray-300 leading-relaxed'>
        팀 프로젝트에서 기능 추가 속도는 빠르지만, 테스트 작성이 늦어져 회귀 버그가 반복되고 리팩토링에 자신이 없는 상황이었다.
        배포 속도는 유지하고 싶지만, 신뢰 가능한 자동화된 회귀 안전망이 부족했다.
      </p>
    </div>
  </section>
  <div class='my-8 border-t sunny:border-gray-200 border-gray-700'></div>

  <!-- 2. 문제 -->
  <section id='problem' class='mb-16 w-full sunny:bg-white bg-gray-900'>
    <h2 class='text-3xl font-bold mb-6'>문제</h2>
    <div class='sunny:bg-gray-100 bg-gray-800 rounded-lg p-6'>
      <ul class='list-disc ml-5 space-y-2 sunny:text-gray-800 text-gray-300 leading-relaxed'>
        <li>해피 패스 위주의 테스트로 <strong>비즈니스 규칙</strong> 검증이 부족</li>
        <li>암묵적 픽스처로 테스트 가독성/안정성 저하(테스트가 깨지면 원인 추적 어려움)</li>
        <li>외부 의존성에 강하게 결합된 테스트(느리고 불안정, 리팩토링 저항)</li>
      </ul>
    </div>
  </section>
  <div class='my-8 border-t sunny:border-gray-200 border-gray-700'></div>

  <!-- 3. 해결: 스터디 & 책에서 배운 점 적용 -->
  <section id='solution' class='mb-16 w-full sunny:bg-white bg-gray-900'>
    <h2 class='text-3xl font-bold mb-6'>해결</h2>
    <div class='sunny:bg-gray-100 bg-gray-800 rounded-lg p-6'>
      <article class='space-y-3'>
        <h3 class='text-lg font-semibold sunny:text-gray-800 text-gray-200'>핵심 원칙</h3>
        <ul class='list-disc ml-5 space-y-1 sunny:text-gray-800 text-gray-300'>
          <li><strong>작은 단위·빠른 피드백</strong>: 도메인(POJO) 중심으로 테스트를 먼저 세운 후 어댑터 연결</li>
          <li><strong>명시적 픽스처</strong>: 테스트 데이터 빌더/헬퍼 도입으로 “무엇을 검증하는지”가 드러나게</li>
          <li><strong>경계/예외 케이스 우선</strong>: 실패/경계/예외를 먼저 만들고 해피 패스는 마지막</li>
          <li><strong>의존성 역전</strong>: 리포지토리/외부 API는 포트-어댑터(인터페이스)로 격리</li>
          <li><strong>서술형 네이밍</strong>: Given-When-Then 패턴으로 의도 드러내기</li>
        </ul>
      </article>

      <article class='space-y-3'>
        <h3 class='text-lg font-semibold sunny:text-gray-800 text-gray-200'>간단 예시 (의상 등록 규칙)</h3>
        <pre class='bg-black/60 rounded-md p-4 overflow-x-auto text-sm'><code class='language-java'>// Given
Cloth c = ClothBuilder.aCloth()
    .withCategory("TOP")
    .withTemperatureRange(18, 25)
    .build();

// When
RegistrationResult r = service.register(c, userId);

// Then
assertTrue(r.success());
assertEquals("TOP", r.cloth().category());
assertThrows(InvalidRangeException.class, () ->
    service.register(ClothBuilder.aCloth().withTemperatureRange(30, 10).build(), userId));
</code></pre>
        <p class='text-xs sunny:text-gray-600 text-gray-400'>
          * 테스트 빌더/픽스처로 가독성↑, 경계/예외를 먼저 검증해 규칙을 “문서화”함.
        </p>
      </article>
    </div>
  </section>
  <div class='my-8 border-t sunny:border-gray-200 border-gray-700'></div>

  <!-- 4. 결과 -->
  <section id='result' class='mb-16 w-full sunny:bg-white bg-gray-900'>
    <h2 class='text-3xl font-bold mb-6'>결과</h2>
    <div class='sunny:bg-gray-100 bg-gray-800 rounded-lg p-6'>
      <ul class='list-disc ml-5 space-y-2 sunny:text-gray-800 text-gray-300 leading-relaxed'>
        <li>핵심 도메인 커버리지 <strong>38% → 72%</strong></li>
        <li>리팩토링 이후 <strong>회귀 버그 3건 → 0건</strong> (최근 2주)</li>
        <li>PR 리뷰 시간 <strong>약 20% 단축</strong> (명시적 픽스처/서술형 네이밍 효과)</li>
      </ul>
      <div
        class='sunny:bg-white bg-gray-900 rounded-md p-4 border sunny:border-gray-200 border-gray-700'>
        <h3 class='text-base font-semibold mb-2 sunny:text-gray-800 text-gray-200'>메트릭 스냅샷</h3>
        <div class='grid grid-cols-2 md:grid-cols-4 gap-3 text-sm'>
          <div>
            <div class='text-gray-400 sunny:text-gray-600'>라인 커버리지</div>
            <div class='font-semibold'>+34%</div>
          </div>
          <div>
            <div class='text-gray-400 sunny:text-gray-600'>테스트 실행시간</div>
            <div class='font-semibold'>-28%</div>
          </div>
          <div>
            <div class='text-gray-400 sunny:text-gray-600'>버그 재발</div>
            <div class='font-semibold'>0건</div>
          </div>
          <div>
            <div class='text-gray-400 sunny:text-gray-600'>리뷰 소요</div>
            <div class='font-semibold'>-20%</div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <div class='my-8 border-t sunny:border-gray-200 border-gray-700'></div>

  <!-- Sticky back to top -->
  <div class='text-right'>
    <a href='#top' class='inline-flex items-center gap-1 text-sm text-blue-400 hover:text-blue-300'>
      <i class='fa-solid fa-arrow-up'></i> 맨 위로
    </a>
  </div>
</main>

<footer class='sunny:bg-gray-100 bg-gray-800 py-6 mt-8'>
  <div class='max-w-3xl mx-auto px-5 text-center text-sm sunny:text-gray-700 text-gray-300'>
    © 2025 황지환. All content and writing rights reserved.
  </div>
</footer>
</body>
</html>